---
layout: default
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
</head>
<body>
    {% include header.html %}
    
    <!-- Main Navigation Tabs -->
    <nav class="main-nav">
        <div class="container">
            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="video" id="video-tab-btn">
                    {% assign default_lang = site.data.en %}
                    {{ default_lang.nav_labels.video_tab }}
                </button>
                <button class="tab-btn" data-tab="resume" id="resume-tab-btn">
                    {{ default_lang.nav_labels.resume_tab }}
                </button>
            </div>
        </div>
    </nav>

    <main>
        <!-- Video Tab Content -->
        <div id="video-tab-content" class="tab-content active">
            <div class="container">
                <div class="video-container">
                    <video id="intro-video" controls width="100%" muted autoplay>
                        <source src="{{ site.data.en.video_path | relative_url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                
                <!-- Calendar Booking Section -->
                <div class="calendar-section">
                    <div class="calendar-card">
                        <p id="calendar-text">{{ site.data.en.calendar_text }}</p>
                        <a href="{{ site.data.en.calendar_link }}" class="calendar-link" target="_blank" id="calendar-link">
                            {{ site.data.en.calendar_link }}
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Resume Tab Content -->
        <div id="resume-tab-content" class="tab-content">
            <div class="container">
                <!-- English Resume Content -->
                <div class="resume-content language-content" id="resume-content-en" style="display: none;">
                    {% assign en_resume = site.pages | where: "path", "assets/resumes/resume-en.md" | first %}
                    {{ en_resume.content | markdownify }}
                </div>
                
                <!-- Spanish Resume Content -->
                <div class="resume-content language-content" id="resume-content-es" style="display: none;">
                    {% assign es_resume = site.pages | where: "path", "assets/resumes/resume-es.md" | first %}
                    {{ es_resume.content | markdownify }}
                </div>
                
                <!-- Portuguese Resume Content -->
                <div class="resume-content language-content" id="resume-content-pt" style="display: none;">
                    {% assign pt_resume = site.pages | where: "path", "assets/resumes/resume-pt.md" | first %}
                    {{ pt_resume.content | markdownify }}
                </div>
                
                <div class="download-section">
                    <a href="{{ site.data.en.pdf_path | relative_url }}" class="download-pdf-btn" id="download-pdf-btn" download>
                        {{ site.data.en.button_labels.download_pdf }}
                    </a>
                </div>
            </div>
        </div>
    </main>

    {% include footer.html %}

    <script>
        // Global language management and tab switching
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const tabButtons = document.querySelectorAll('.tab-btn');
            const tabContents = document.querySelectorAll('.tab-content');
            const languageButtons = document.querySelectorAll('.language-btn');
            const videoElement = document.getElementById('intro-video');
            const resumeContentElements = document.querySelectorAll('.language-content');
            const downloadPdfBtn = document.getElementById('download-pdf-btn');
            const videoTabBtn = document.getElementById('video-tab-btn');
            const resumeTabBtn = document.getElementById('resume-tab-btn');
            const calendarText = document.getElementById('calendar-text');
            const calendarLink = document.getElementById('calendar-link');

            // Language data mapping
            const languageData = {
                'en': {
                    nav_labels: {
                        video_tab: 'Video Introduction',
                        resume_tab: 'Resume'
                    },
                    button_labels: {
                        download_pdf: 'Download PDF Resume'
                    },
                    calendar_text: '{{ site.data.en.calendar_text }}',
                    calendar_link: '{{ site.data.en.calendar_link }}',
                    video_path: '{{ site.data.en.video_path | relative_url }}',
                    pdf_path: '{{ site.data.en.pdf_path | relative_url }}'
                },
                'es': {
                    nav_labels: {
                        video_tab: 'Introducción en Video',
                        resume_tab: 'Currículum'
                    },
                    button_labels: {
                        download_pdf: 'Descargar PDF del Currículum'
                    },
                    calendar_text: '{{ site.data.es.calendar_text }}',
                    calendar_link: '{{ site.data.es.calendar_link }}',
                    video_path: '{{ site.data.es.video_path | relative_url }}',
                    pdf_path: '{{ site.data.es.pdf_path | relative_url }}'
                },
                'pt': {
                    nav_labels: {
                        video_tab: 'Introdução em Vídeo',
                        resume_tab: 'Currículo'
                    },
                    button_labels: {
                        download_pdf: 'Baixar PDF do Currículo'
                    },
                    calendar_text: '{{ site.data.pt.calendar_text }}',
                    calendar_link: '{{ site.data.pt.calendar_link }}',
                    video_path: '{{ site.data.pt.video_path | relative_url }}',
                    pdf_path: '{{ site.data.pt.pdf_path | relative_url }}'
                }
            };

            // Get or set default language
            function getCurrentLanguage() {
                return localStorage.getItem('selectedLanguage') || 'en';
            }

            function setCurrentLanguage(lang) {
                localStorage.setItem('selectedLanguage', lang);
            }

            // Get current active tab
            function getCurrentTab() {
                return localStorage.getItem('activeTab') || 'video';
            }

            function setCurrentTab(tab) {
                localStorage.setItem('activeTab', tab);
            }

            // Tab switching logic
            function switchTab(tabName) {
                // Update tab buttons
                tabButtons.forEach(btn => {
                    if (btn.getAttribute('data-tab') === tabName) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });

                // Update tab contents
                tabContents.forEach(content => {
                    if (content.id === tabName + '-tab-content') {
                        content.classList.add('active');
                    } else {
                        content.classList.remove('active');
                    }
                });

                // If switching to resume tab, ensure correct language content is shown
                if (tabName === 'resume') {
                    const currentLang = getCurrentLanguage();
                    resumeContentElements.forEach(element => {
                        element.style.display = 'none';
                    });
                    const currentResumeContent = document.getElementById('resume-content-' + currentLang);
                    if (currentResumeContent) {
                        currentResumeContent.style.display = 'block';
                    }
                }

                setCurrentTab(tabName);
            }

            // Language switching logic
            function switchLanguage(lang) {
                const data = languageData[lang];
                if (!data) return;

                // Update tab labels
                videoTabBtn.textContent = data.nav_labels.video_tab;
                resumeTabBtn.textContent = data.nav_labels.resume_tab;

                // Update download button
                downloadPdfBtn.textContent = data.button_labels.download_pdf;
                downloadPdfBtn.href = data.pdf_path;

                // Update calendar text and link
                calendarText.textContent = data.calendar_text;
                calendarLink.textContent = data.calendar_link;
                calendarLink.href = data.calendar_link;

                // Update video if video tab is active
                if (getCurrentTab() === 'video') {
                    const currentTime = videoElement.currentTime;
                    videoElement.querySelector('source').src = data.video_path;
                    videoElement.load();
                    videoElement.currentTime = currentTime;
                    videoElement.play().catch(e => console.log('Autoplay prevented:', e));
                }

                // Update resume content if resume tab is active
                if (getCurrentTab() === 'resume') {
                    // Hide all resume content elements
                    resumeContentElements.forEach(element => {
                        element.style.display = 'none';
                    });
                    // Show the resume content for the current language
                    const currentResumeContent = document.getElementById('resume-content-' + lang);
                    if (currentResumeContent) {
                        currentResumeContent.style.display = 'block';
                    }
                }

                // Update active language button
                languageButtons.forEach(btn => {
                    if (btn.getAttribute('data-lang') === lang) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });

                setCurrentLanguage(lang);
            }

            // Initialize
            function initialize() {
                const currentLang = getCurrentLanguage();
                const currentTab = getCurrentTab();

                // Set initial language
                switchLanguage(currentLang);
                
                // Set initial tab
                switchTab(currentTab);

                // Ensure the correct resume content is shown on initial load
                if (currentTab === 'resume') {
                    resumeContentElements.forEach(element => {
                        element.style.display = 'none';
                    });
                    const initialResumeContent = document.getElementById('resume-content-' + currentLang);
                    if (initialResumeContent) {
                        initialResumeContent.style.display = 'block';
                    }
                }
            }

            // Event listeners
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });

            languageButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    switchLanguage(lang);
                });
            });

            // Initialize the application
            initialize();
        });
    </script>
</body>
</html>